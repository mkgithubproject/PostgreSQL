Perfect üëç let‚Äôs dive into **constraints in PostgreSQL**.

Constraints are rules you apply to table columns to enforce **data integrity** (make sure data stays valid and consistent).

---

# üîπ Types of Constraints in PostgreSQL

## **1. NOT NULL**

* Ensures a column **cannot have NULL values**.

```sql
CREATE TABLE employees (
    id SERIAL PRIMARY KEY,
    name TEXT NOT NULL,   -- must always have a name
    email TEXT
);

INSERT INTO employees (name, email) VALUES (NULL, 'a@b.com'); -- ‚ùå ERROR
```

---

## **2. UNIQUE**

* Ensures all values in a column are **unique**.

```sql
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    username TEXT UNIQUE,   -- no duplicates allowed
    email TEXT
);

INSERT INTO users (username, email) VALUES ('alice', 'a@b.com');
INSERT INTO users (username, email) VALUES ('alice', 'c@d.com'); -- ‚ùå ERROR
```

---

## **3. PRIMARY KEY**

* Combination of **NOT NULL + UNIQUE**.
* Identifies each row uniquely.
* A table can have **only one primary key** (can be single or multiple columns).

```sql
CREATE TABLE products (
    product_id SERIAL PRIMARY KEY,
    name TEXT NOT NULL
);
```

---

## **4. FOREIGN KEY**

* Ensures values in one table column match values in another table‚Äôs column (relationship).

```sql
CREATE TABLE departments (
    dept_id SERIAL PRIMARY KEY,
    dept_name TEXT UNIQUE
);

CREATE TABLE employees (
    emp_id SERIAL PRIMARY KEY,
    emp_name TEXT NOT NULL,
    dept_id INT REFERENCES departments(dept_id)   -- foreign key
);

-- Insert department
INSERT INTO departments (dept_name) VALUES ('HR');

-- Insert employee in HR
INSERT INTO employees (emp_name, dept_id) VALUES ('John', 1);

-- Try with invalid dept_id
INSERT INTO employees (emp_name, dept_id) VALUES ('Mary', 999); -- ‚ùå ERROR
```

---

## **5. CHECK**

* Ensures values meet a **condition**.

```sql
CREATE TABLE accounts (
    id SERIAL PRIMARY KEY,
    balance NUMERIC CHECK (balance >= 0)  -- no negative balances
);

INSERT INTO accounts (balance) VALUES (100);   -- ‚úÖ OK
INSERT INTO accounts (balance) VALUES (-50);   -- ‚ùå ERROR
```

---

## **6. DEFAULT**

* Provides a **default value** if none is given.

```sql
CREATE TABLE orders (
    id SERIAL PRIMARY KEY,
    status TEXT DEFAULT 'pending',
    created_at TIMESTAMP DEFAULT NOW()
);

INSERT INTO orders DEFAULT VALUES;
-- status = 'pending', created_at = current time
```

---

# ‚úÖ Summary

* **NOT NULL** ‚Üí value required
* **UNIQUE** ‚Üí no duplicates
* **PRIMARY KEY** ‚Üí unique identifier (NOT NULL + UNIQUE)
* **FOREIGN KEY** ‚Üí link between tables
* **CHECK** ‚Üí condition must be true
* **DEFAULT** ‚Üí auto-fill value if not provided

---

üëâ Do you want me to show you how to **add or drop constraints on an existing table** (using `ALTER TABLE`)?
