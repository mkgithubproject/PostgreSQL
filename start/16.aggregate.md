Perfect! Let’s go through **Aggregation Functions in PostgreSQL** — these are used to **compute summary statistics on data** like totals, averages, counts, etc.

---

# **1. COUNT() – Count rows**

```sql
CREATE TABLE orders (
    id SERIAL PRIMARY KEY,
    customer TEXT,
    amount NUMERIC
);

INSERT INTO orders (customer, amount) VALUES
('Alice', 100),
('Bob', 200),
('Alice', 300);

-- Count all rows
SELECT COUNT(*) FROM orders;

-- Count rows with non-null amounts
SELECT COUNT(amount) FROM orders;

-- Count distinct customers
SELECT COUNT(DISTINCT customer) FROM orders;
```

---

# **2. SUM() – Sum of values**

```sql
-- Total amount of all orders
SELECT SUM(amount) AS total_sales FROM orders;

-- Sum by customer
SELECT customer, SUM(amount) AS total_sales
FROM orders
GROUP BY customer;
```

---

# **3. AVG() – Average**

```sql
-- Average order amount
SELECT AVG(amount) AS avg_amount FROM orders;

-- Average per customer
SELECT customer, AVG(amount) AS avg_amount
FROM orders
GROUP BY customer;
```

---

# **4. MIN() – Minimum value**

```sql
SELECT MIN(amount) AS smallest_order FROM orders;

-- Minimum per customer
SELECT customer, MIN(amount) AS smallest_order
FROM orders
GROUP BY customer;
```

---

# **5. MAX() – Maximum value**

```sql
SELECT MAX(amount) AS largest_order FROM orders;

-- Maximum per customer
SELECT customer, MAX(amount) AS largest_order
FROM orders
GROUP BY customer;
```

---

# **6. GROUP BY – Aggregate by group**

Most aggregation functions are used with **`GROUP BY`** to calculate summaries per group.

```sql
SELECT customer, COUNT(*) AS orders_count,
       SUM(amount) AS total_spent,
       AVG(amount) AS avg_spent
FROM orders
GROUP BY customer;
```

**Output:**

```
 customer | orders_count | total_spent | avg_spent
---------+--------------+------------+----------
 Alice    | 2            | 400        | 200
 Bob      | 1            | 200        | 200
```

---

# **7. HAVING – Filter aggregated results**

* `WHERE` filters rows **before aggregation**
* `HAVING` filters groups **after aggregation**

```sql
-- Customers with total spending > 200
SELECT customer, SUM(amount) AS total_spent
FROM orders
GROUP BY customer
HAVING SUM(amount) > 200;
```

---

# **8. Other Useful Aggregate Functions**

| Function                  | Purpose                        |
| ------------------------- | ------------------------------ |
| `STRING_AGG(column, ',')` | Concatenate strings by group   |
| `ARRAY_AGG(column)`       | Aggregate values into an array |
| `VARIANCE(column)`        | Variance of numeric values     |
| `STDDEV(column)`          | Standard deviation             |

---

✅ **Summary**

* **COUNT, SUM, AVG, MIN, MAX** → most common
* Use **GROUP BY** to aggregate per category
* Use **HAVING** to filter aggregated results

---

If you want, I can make a **full visual cheat sheet of all PostgreSQL aggregate functions with examples** so it’s easier to remember.

Do you want me to do that?
