Perfect üëç Let‚Äôs go step by step through **CRUD operations (Create, Read, Update, Delete)** in **PostgreSQL** with clear examples.

---

# **CRUD Operations in PostgreSQL**

We‚Äôll use a `users` table as an example.

```sql
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    name TEXT NOT NULL,
    email TEXT UNIQUE,
    created_at TIMESTAMP DEFAULT NOW()
);
```

---

## **1. CREATE (Insert Data)**

Add new rows into a table.

```sql
-- Insert a single row
INSERT INTO users (name, email) 
VALUES ('Alice', 'alice@example.com');

-- Insert multiple rows
INSERT INTO users (name, email) 
VALUES 
('Bob', 'bob@example.com'),
('Charlie', 'charlie@example.com');
```

‚úÖ Auto-increment `id` will be generated automatically.

---

## **2. READ (Query Data)**

Retrieve data from the table.

```sql
-- Get all rows
SELECT * FROM users;

-- Select specific columns
SELECT name, email FROM users;

-- Filtering with WHERE
SELECT * FROM users WHERE name = 'Alice';

-- Sorting
SELECT * FROM users ORDER BY created_at DESC;

-- Limit results
SELECT * FROM users LIMIT 2;
```

---

## **3. UPDATE (Modify Data)**

Change existing data.

```sql
-- Update one row
UPDATE users
SET email = 'alice.new@example.com'
WHERE name = 'Alice';

-- Update multiple rows
UPDATE users
SET created_at = NOW()
WHERE name IN ('Bob', 'Charlie');
```

‚ö†Ô∏è **Always use `WHERE`** in `UPDATE` (otherwise it will update *all rows*).

---

## **4. DELETE (Remove Data)**

Delete rows from the table.

```sql
-- Delete one row
DELETE FROM users WHERE name = 'Charlie';

-- Delete multiple rows
DELETE FROM users WHERE email LIKE '%@example.com';

-- Delete all rows (table remains)
DELETE FROM users;

-- Drop table completely
DROP TABLE users;
```

‚ö†Ô∏è **Always use `WHERE`** in `DELETE` (unless you really want to wipe all rows).

---

‚úÖ Summary:

* **C** ‚Üí `INSERT`
* **R** ‚Üí `SELECT`
* **U** ‚Üí `UPDATE`
* **D** ‚Üí `DELETE`

---

Got it üëç you‚Äôre asking about **DROP, LIST, SWITCH, and the difference between DROP and DELETE** in PostgreSQL.
Let‚Äôs carefully break these down.

---

# **1. DROP**

* `DROP` is used to **remove entire database objects** (table, database, schema, index, view, etc.).
* Once dropped, the object is **gone permanently** (cannot be rolled back unless inside a transaction).

### Examples:

```sql
-- Drop a table
DROP TABLE users;

-- Drop a database
DROP DATABASE mydb;

-- Drop a column from a table
ALTER TABLE users DROP COLUMN email;
```

‚ö†Ô∏è `DROP` removes the **structure + data**.

---

# **2. LIST**

There is no SQL keyword `LIST` in PostgreSQL, but in **psql** (the command-line tool), you can list things:

* **List databases**

```sql
\l
```

* **List tables in current database**

```sql
\dt
```

* **List columns of a table**

```sql
\d users
```

So when people say "list", they usually mean **listing objects with `\` commands in psql**.

---

# **3. SWITCH**

There‚Äôs no direct SQL keyword `SWITCH` in PostgreSQL. But usually, people mean:

* **Switch database**

```sql
\c mydb
```

(in psql, `\c` = connect to another database)

* **Switch schema search path**

```sql
SET search_path TO myschema;
```

---

# **4. Difference: DROP vs DELETE**

| Feature              | `DELETE`                                    | `DROP`                              |
| -------------------- | ------------------------------------------- | ----------------------------------- |
| **What it removes?** | Only **data (rows)** from a table           | Entire **table (structure + data)** |
| **Can undo?**        | Yes (if inside a transaction with ROLLBACK) | No (table is gone)                  |
| **Affects schema?**  | No, table definition stays                  | Yes, table definition removed       |
| **Syntax**           | `DELETE FROM table WHERE ...;`              | `DROP TABLE table_name;`            |

### Example:

```sql
-- DELETE example: removes rows, keeps table
DELETE FROM users WHERE name = 'Alice';

-- Table `users` still exists, but Alice‚Äôs row is gone.

-- DROP example: removes whole table
DROP TABLE users;

-- Table `users` is gone completely.
```

---

‚úÖ **Summary:**

* `DROP` ‚Üí removes whole object (table, database, column, etc.).
* `DELETE` ‚Üí removes rows (data) inside a table.
* `LIST` ‚Üí not SQL, but psql `\l`, `\dt`, etc. to list objects.
* `SWITCH` ‚Üí usually means switching database (`\c`) or schema (`SET search_path`).

---

Great question üëå

In **PostgreSQL psql**,

* `\d` = **describe**
* `\dt` = **describe tables**

So the **`t` in `\dt` stands for "tables"**.

---

### Common variations:

* `\dt` ‚Üí list **tables**
* `\dv` ‚Üí list **views**
* `\di` ‚Üí list **indexes**
* `\ds` ‚Üí list **sequences**
* `\df` ‚Üí list **functions**
* `\dn` ‚Üí list **schemas**
* `\du` ‚Üí list **users/roles**

Example:

```sql
\dt
```

Output:

```
         List of relations
 Schema |   Name   | Type  | Owner
--------+----------+-------+-------
 public | users    | table | postgres
 public | orders   | table | postgres
```

---

‚úÖ So,

* `\d` = describe (general)
* `\dt` = describe **tables** only

Perfect üöÄ Here‚Äôs a **PostgreSQL psql cheat sheet** for all the common `\` meta-commands.
These work **only inside the `psql` CLI**, not in SQL scripts.

---

# üêò **PostgreSQL psql Cheat Sheet**

### üîπ **Database Commands**

| Command         | Meaning                               |
| --------------- | ------------------------------------- |
| `\l` or `\list` | List all databases                    |
| `\c dbname`     | Connect (switch) to database `dbname` |
| `\conninfo`     | Show info about current connection    |

---

### üîπ **Schema & Tables**

| Command        | Meaning                                              |
| -------------- | ---------------------------------------------------- |
| `\dn`          | List schemas                                         |
| `\dt`          | List tables in current schema                        |
| `\dt *.*`      | List tables in all schemas                           |
| `\di`          | List indexes                                         |
| `\ds`          | List sequences                                       |
| `\dv`          | List views                                           |
| `\dm`          | List materialized views                              |
| `\d`           | Describe a relation (table/view/sequence/index)      |
| `\d+ table`    | Describe table with extra info (size, storage, etc.) |
| `\d tablename` | Show structure (columns, types, constraints)         |

---

### üîπ **Columns & Types**

| Command         | Meaning                                             |
| --------------- | --------------------------------------------------- |
| `\d table`      | Show table definition (columns, types, constraints) |
| `\d+ table`     | Show table definition + storage details             |
| `\dT`           | List data types                                     |
| `\dT+ typename` | Show details about a type                           |

---

### üîπ **Users & Roles**

| Command | Meaning                                             |
| ------- | --------------------------------------------------- |
| `\du`   | List roles/users                                    |
| `\du+`  | List roles with extra info (attributes, privileges) |

---

### üîπ **Functions & Procedures**

| Command    | Meaning                     |
| ---------- | --------------------------- |
| `\df`      | List functions              |
| `\df+`     | List functions with details |
| `\df name` | Show specific function      |
| `\dfn`     | List only normal functions  |
| `\dF`      | List aggregates             |

---

### üîπ **Other Handy Commands**

| Command      | Meaning                                         |
| ------------ | ----------------------------------------------- |
| `\timing`    | Toggle query execution time display             |
| `\x`         | Toggle expanded output (better for wide tables) |
| `\q`         | Quit psql                                       |
| `\! command` | Run a shell command (e.g., `\! ls`)             |
| `\password`  | Change password for current user                |

---

### üîπ **Query Buffers & History**

| Command       | Meaning                              |
| ------------- | ------------------------------------ |
| `\e`          | Edit last command in external editor |
| `\p`          | Print query buffer                   |
| `\r`          | Reset (clear) query buffer           |
| `\s`          | Show command history                 |
| `\s filename` | Save command history to file         |

---

‚úÖ This covers 90% of what you‚Äôll use daily in **psql**.




