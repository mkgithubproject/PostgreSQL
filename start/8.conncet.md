Perfect! Since you’ve installed **PostgreSQL via the GUI installer** on your Mac, here’s a **complete step-by-step guide** for what to do next, from verifying the installation to connecting Node.js with Express.

---

# **Step 1: Verify PostgreSQL Installation**

Open **Terminal** and check version:

```bash
psql --version
```

* If you see something like `psql (PostgreSQL) 17.6`, PostgreSQL CLI tools are ready.
* If `command not found`, add PostgreSQL bin to PATH:

```bash
nano ~/.zshrc
```

Add:

```bash
export PATH=$PATH:/Library/PostgreSQL/17/bin
```

Save (`Ctrl+O` → Enter → `Ctrl+X`) and reload:

```bash
source ~/.zshrc
```

---

# **Step 2: Open PostgreSQL Server / psql Shell**

### Option 1: Use psql Shell (from GUI)

1. Open **psql Shell** from Applications or Launchpad.
2. Enter:

   * **Server:** localhost
   * **Database:** postgres
   * **Port:** 5432
   * **Username:** postgres
   * **Password:** the one you set during installation

### Option 2: Use Terminal

```bash
psql -U postgres
```

* Enter your password when prompted.
* You’ll see `postgres=#` prompt.

---

# **Step 3: Open pgAdmin (GUI)**

1. Open **pgAdmin 4** from Applications or Launchpad.
2. Set a **master password** on first run.
3. Connect to your local PostgreSQL server:

   * **Host:** localhost
   * **Port:** 5432
   * **Username:** postgres
   * **Password:** your PostgreSQL password

Now you can manage databases visually.

---

# **Step 4: Create Your First Database**

In **pgAdmin**:

1. Right-click **Databases → Create → Database**
2. Name it `mydb` → Save

Or in **psql CLI**:

```sql
CREATE DATABASE mydb;
\c mydb
```

---

# **Step 5: Create a Table**

```sql
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  name VARCHAR(50),
  email VARCHAR(50) UNIQUE
);
```

* Insert sample data:

```sql
INSERT INTO users (name, email) VALUES ('Alice', 'alice@test.com');
```

* Query data:

```sql
SELECT * FROM users;
```

---

# **Step 6: Connect Node.js + Express**

1. Initialize project:

```bash
mkdir myproject
cd myproject
npm init -y
npm install express pg
```

2. Create `db.js`:

```js
const { Pool } = require('pg');

const pool = new Pool({
  user: 'postgres',
  host: 'localhost',
  database: 'mydb',
  password: 'yourpassword',
  port: 5432,
});

module.exports = pool;
```

3. Create `index.js`:

```js
const express = require('express');
const pool = require('./db');
const app = express();

app.get('/', async (req, res) => {
  const result = await pool.query('SELECT NOW()');
  res.send(result.rows[0]);
});

app.listen(3000, () => console.log('Server running on port 3000'));
```

4. Run server:

```bash
node index.js
```

* Visit `http://localhost:3000` → should show current timestamp.

---

# ✅ **Summary**

* **PostgreSQL Server:** runs in background (managed by GUI installer)
* **psql Shell:** foreground CLI for queries
* **pgAdmin:** GUI to manage databases
* **Node.js + Express:** connects to PostgreSQL via `pg` package

---

Got it! You want to connect using **`psql -U postgres`**. Let’s go step by step.

---

## **1. Open Terminal**

On your Mac, open the terminal.

---

## **2. Run the psql command**

```bash
psql -U postgres
```

Here:

* `-U postgres` → connects as the `postgres` user (default superuser).

> If your PostgreSQL is on a remote host or a different port, you can add:
>
> ```bash
> psql -h <host> -p <port> -U postgres
> ```

---

## **3. Enter Password**

It will prompt:

```
Password for user postgres:
```

Type your password (note: it won’t show as you type) and press **Enter**.

---

## **4. You’re connected**

You’ll see a prompt like:

```
postgres=#
```

This means you’re connected to the **default database** named `postgres`.

---

## **5. Useful Commands in psql**

| Command   | Description                         |
| --------- | ----------------------------------- |
| `\l`      | List all databases                  |
| `\c mydb` | Connect to a database named `mydb`  |
| `\dt`     | List all tables in current database |
| `\q`      | Quit psql                           |

---

### **Example**

```bash
psql -U postgres
Password: ****
postgres=# \l
postgres=# \c mydb
mydb=# \dt
```

---

Ah! Now the problem is clear. When you just run `psql` without arguments, PostgreSQL **tries to connect to a database with the same name as your macOS username** (`mkshiva`). Since that database doesn’t exist yet, you get this error:

```
FATAL:  database "mkshiva" does not exist
```

No worries—we can fix this in a clean way.

---

## **Step 1: Connect to the default `postgres` database**

```bash
psql -U mkshiva -d postgres
```

Explanation:

* `-U mkshiva` → your macOS username (the default role created by Homebrew).
* `-d postgres` → the default database that always exists.

If it connects, you’ll see:

```
postgres=#
```

---

## **Step 2: Create a database for yourself (optional but recommended)**

```sql
CREATE DATABASE mkshiva;
```

Now you have a database named `mkshiva`.

---

## **Step 3: Connect to your new database**

```bash
psql -U mkshiva -d mkshiva
```

This will give you a working session in your own database.

---

## **Step 4 (Optional): Create the `postgres` role**

If you want the classic `postgres` user as well:

```sql
CREATE ROLE postgres WITH LOGIN SUPERUSER PASSWORD 'yourpassword';
CREATE DATABASE postgres OWNER postgres;
```

Then you can connect later with:

```bash
psql -U postgres -d postgres
```

---

✅ **Summary of Working Commands on Mac (Homebrew PostgreSQL)**

```bash
# Connect as default user to default database
psql -U mkshiva -d postgres

# Create your own database
CREATE DATABASE mkshiva;

# Optional: create postgres superuser
CREATE ROLE postgres WITH LOGIN SUPERUSER PASSWORD 'yourpassword';
CREATE DATABASE postgres OWNER postgres;

# Connect to your own database
psql -U mkshiva -d mkshiva

# Connect as postgres
psql -U postgres -d postgres
```

---





